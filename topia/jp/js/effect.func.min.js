//!
//!
//! function.js
//!
//!
var url_hash=location.hash,mediaQuery_mobile=769,timer_scroll=!1,timer=!1,_ua=function(e){return-1!=e.indexOf("windows")&&$("html").addClass("win"),{Tablet:-1!=e.indexOf("windows")&&-1!=e.indexOf("touch")&&-1==e.indexOf("tablet pc")||-1!=e.indexOf("ipad")||-1!=e.indexOf("android")&&-1==e.indexOf("mobile")||-1!=e.indexOf("firefox")&&-1!=e.indexOf("tablet")||-1!=e.indexOf("kindle")||-1!=e.indexOf("silk")||-1!=e.indexOf("playbook"),Mobile:-1!=e.indexOf("windows")&&-1!=e.indexOf("phone")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("android")&&-1!=e.indexOf("mobile")||-1!=e.indexOf("firefox")&&-1!=e.indexOf("mobile")||-1!=e.indexOf("blackberry")}}(window.navigator.userAgent.toLowerCase());setKvHeight(),voiceKv(),$(".loading").length&&($(".loading").height(window.innerHeight),loadingIcon()),$(".lowerpage").length&&($(".lowerKv").length||$(".voice__kv").length?$(".lowerKv img, .voice img").imagesLoaded(function(){lowerKv()}):(showPageHeader(),setInview())),$(document).ready(function(){$(".voice__kv-item").length&&$(".voice__kv-item").each(function(e){var t=$(this);t.attr("id","v"+e),t.find(".voice__kv-item-bg").css("background-image",'url("'+t.find("img").attr("src")+'")')})}),$(window).on("load",function(){init(),setTimeout(function(){elasticOpen()},400)}),window.addEventListener("scroll",_scroll),_scroll();var currentWidth=window.innerWidth;function init(){setKvHeight(),setElement(),phoneNumber(),_scroll(),$(".pageelem__title").length&&$("img").imagesLoaded(function(){set_side_highlight(),scrollVoice()})}function loadingIcon(){var e=$(".loading__icn"),t=new TimelineMax;window.navigator.userAgent.toLowerCase();$(".kv .fv img").imagesLoaded(function(){$("html").addClass("loaded-kv-img"),t.to(e,.1,{opacity:1,delay:1,ease:Power3.easeOut,webkitFilter:"blur(0)"}).to(e,.5,{opacity:0,delay:0,webkitFilter:"blur(8px)",ease:Power3.easeOut,onComplete:function(){hideLoading(),$("html").addClass("loaded-kv"),typeIndex()}})})}function hideLoading(){var e=$(".loading");(new TimelineMax).to(e,1,{opacity:1,delay:.1,ease:Power3.easeOut}).to(e,.5,{opacity:0,ease:Power3.easeOut,onComplete:function(){e.remove()}})}window.addEventListener("resize",function(){$(".loading").length&&$(".loading").height(window.innerHeight),currentWidth!=window.innerWidth&&(screen.width<mediaQuery_mobile&&setKvHeight(),currentWidth=window.innerWidth,screen.width>=mediaQuery_mobile&&setKvHeight(),voiceKv())}),_ua.Mobile||_ua.Tablet||$(".print").length||!$(".ie11").length&&$(".contact").length;var ua_low=window.navigator.userAgent.toLowerCase();function typeIndex(){setTimeout(function(){kvCopyTween()},100),setTimeout(function(){setInview()},100);var e=new Swiper(".kv__slider",{speed:600,effect:"fade",pagination:{el:".kv__pager",clickable:!0}});setTimeout(function(){e.params.autoplay.delay=4600,e.params.autoplay.disableOnInteraction=!1,e.autoplay.start()},400);new Swiper(".ourmsg__slider",{speed:600,effect:"fade",autoplay:{delay:4600,disableOnInteraction:!1}})}function resetTween(){TweenMax.set(".char",{autoAlpha:0})}function kvCopyTween(e){$lines=$(".letter__l"),_.each($lines,function(e,t){TweenMax.delayedCall(.4*t/2,function(){_.each($(e).find(".letter"),function(e){showletter($(e))})})})}function voiceKv(){var e=".voice__kv";if($(e).length){var t=void 0,i={speed:600,effect:"fade",loop:!0,autoplay:{delay:4600,disableOnInteraction:!1},pagination:{el:".voice__kv-pager.for-sp",clickable:!0},on:{init:function(){$(e).addClass("-start"),setTimeout(function(){showVoiceHeader(),setInview()},200)}}};window.innerWidth<mediaQuery_mobile&&null==t?($(".voice__kv-item").addClass("swiper-slide"),$(".voice__kv-inner").addClass("swiper-wrapper"),t=new Swiper(e,i)):(showVoiceHeader(),t&&t.destroy(!0,!0),t=void 0,setInview(),setTimeout(function(){$(".voice__kv-inner").removeAttr("style").removeClass("swiper-wrapper"),$(".voice__kv-item").removeAttr("style").removeClass("swiper-slide")},200))}}function lowerKv(){var e=".lowerKv";if($(e).length&&!$(e).hasClass("-noslider"))new Swiper(e,{speed:600,effect:"fade",autoplay:{delay:4600,disableOnInteraction:!1},pagination:{el:".lowerKv__pager",clickable:!0},on:{init:function(){$(e).addClass("-start"),$(".lowerKv__outer").addClass("-start"),setTimeout(function(){showPageHeader(),setInview()},200)}}});$(e).addClass("-start"),$(".lowerKv__outer").addClass("-start"),setTimeout(function(){showPageHeader(),setInview()},200)}function showPageHeader(e){$("html").addClass("-lowerKV-start"),$(".pageheader").length&&($letter=$(".pageheader__title").find(".heading-letter"),_.each($letter,function(e,t){TweenMax.delayedCall(.4*t/2,function(){_.each($(e).find(".letter"),function(e){showletterEffect($(e))})})}))}function showVoiceHeader(e){$("html").addClass("-lowerKV-start"),$(".voice__header").length&&($letter=$(".voice__title").find(".heading-letter"),_.each($letter,function(e,t){TweenMax.delayedCall(.4*t/2,function(){_.each($(e).find(".letter"),function(e){showletterEffect($(e))})})}),$(".voice__header").addClass("-animated"))}function showletter(e){var t=e;if(t.isVisible=!!t.hasClass("letter-visible"),t.isVisible?(t.addClass("letter-animated"),t.find(".letter__clone").remove(),t.find(".letter__cover").remove()):(t.text=t.text(),t.$clone=$('<span class="letter__clone">'+t.text+"</span>"),t.$cover=$('<span class="letter__cover">'+t.text+"</span>"),t.wrapInner('<span class="letter__w" />').append(t.$clone,t.$cover)),!t.isVisible){var i=t.outerWidth(),n=t.outerHeight(),a="rect(0px 0px "+n+"px 0px)",o="rect(0px "+i+"px "+n+"px 0px)",s="rect(0px "+i+"px "+n+"px 0px)",r="rect(0px "+i+"px "+n+"px "+i+"px)";t.$clone.css({clip:a}),t.$cover.css({clip:s}),t.addClass("letter-visible"),TweenMax.to(t.$clone,.4*3,{clip:o,ease:Power4.easeOut}),TweenMax.to(t.$cover,.4*3,{clip:r,ease:Power4.easeOut,onComplete:function(){t.addClass("letter-animated"),t.$clone.remove(),t.$cover.remove()}})}}var cursor=function(){$(document).on({mousemove:function(e){var t=e.clientX-$(this).offset().left,i=$(this).offset().top+e.clientY;$(this).find(".pointer").css({top:i,left:t})}},"body");var e=$("a, .link:not('.share__btn'), input, .swiper-pagination-bullet, .taglist__item, .drawer-hamburger, .elastic__header:not('.-only-sp .elastic__header'), .toggle__more, .-hover_shadow");e.mouseenter(function(){$(".pointer").addClass("-hover")}),e.mouseleave(function(){$(".pointer").removeClass("-hover")}),$(".morebtn a, .backbtn a, .-hover_shadow").mouseenter(function(){$(".pointer").addClass("-click")}),$(".morebtn a, .backbtn a, .-hover_shadow").mouseleave(function(){$(".pointer").removeClass("-click")}),$(".work-arrow").mouseenter(function(){$(".pointer").addClass("-arw")}),$(".work-arrow").mouseleave(function(){$(".pointer").removeClass("-arw")}),$(".edge").length||$(".ie11").length,e.click(function(){var e=$(".pointer");e.addClass("-zoom"),setTimeout(function(){e.removeClass("-zoom")},1e3)})};function setRellax(){if($(".rellax").length){var e=".rellax";if(screen.width>=mediaQuery_mobile)new Rellax(e);else{$(e).removeAttr("style")}}}function elasticOpen(){if(-1!==url_hash.indexOf("#r-")||$(".voice__content").length&&$(".voice__content").attr("data-elastic")){target_hash=url_hash,$(".voice__content").attr("data-elastic")&&(target_hash="#"+$(".voice__content").attr("data-elastic"));var e=$(target_hash);if(e.length){if(!$(".voice__content").length){var t=0;screen.width<mediaQuery_mobile&&(t=$(".scrolledPage .drawer-hamburger.-primary").css("top"));var i=e.offset().top-parseInt(t);$("html, body").animate({scrollTop:i},{duration:1e3,easing:"easeOutQuint",complete:function(){}})}setTimeout(function(){e.addClass("-opened");e.find(".elastic__detail").stop().animate({opacity:1,height:"toggle"},500,"easeOutQuint")},100)}}}function _scroll(e){var n=document.documentElement.scrollTop||document.body.scrollTop,t=parseInt(n+window.innerHeight),i=Array.prototype.slice.call(document.getElementsByTagName("html"))[0];if(140<=n?i.classList.add("scrolledPage"):i.classList.remove("scrolledPage"),$(".prlx").length&&(screen.width>=mediaQuery_mobile?_.each($(".prlx"),function(e){var t=$(e),i=t.find(".prlx__el");clearance=50*parseFloat($("html").css("fontSize")),unit=clearance/(wh()+t.outerHeight()),pos=(n-$(".page").offset().top+wh())*unit-clearance,0<pos?pos=0:pos<-1*clearance&&(pos=-1*clearance),TweenMax.to(i,0,{y:pos+-20,ease:Power4.easeOut})}):$(".prlx__el").removeAttr("style")),$(".indexRecruit").length){var a=$(".indexRecruit__header"),o=parseInt($(".indexRecruit__side").offset().top),s=parseInt(o+$(".indexRecruit__side").height()),r=parseInt(a.height()),l=($(".indexRecruit__inner"),parseInt($(".indexRecruit__inner").width())/4);o<=n?(i.classList.add("asideFixed"),a.css("width",l),s<=n+r?i.classList.add("asideFixed-bottom"):i.classList.remove("asideFixed-bottom")):i.classList.remove("asideFixed")}if($(".pageelem__aside").length){o=parseInt($(".pageelem__aside").offset().top),s=parseInt(o+$(".pageelem__aside").height()),r=parseInt($(".pageelem__nav").height());o<=n?(i.classList.add("asideFixed"),s<=n+r?i.classList.add("asideFixed-bottom"):i.classList.remove("asideFixed-bottom")):i.classList.remove("asideFixed")}$(".pickup").length&&(parseInt($(".footer").offset().top)<=t?i.classList.add("-hidden-pickup"):i.classList.remove("-hidden-pickup"));$(".voice").length&&(parseInt($(".voice").offset().top+$(".voice").height())<=t?i.classList.add("-release-fixed"):i.classList.remove("-release-fixed"))}function set_side_highlight(){sideCurrent=-1;var t=new Array,i=parseInt($(".pageelem__title").css("padding-top"));if($(".pageelem__title").each(function(e){t[e]=Math.floor($(this).offset().top-i-10)}),$("html").hasClass("scrolledPage"))for(var e=$(window).scrollTop(),n=t.length-1;0<=n;n--)if(e<t[0])changeNavCurrent(1e3);else if(e>=t[n]){changeNavCurrent(n);break}window.addEventListener("scroll",function(){scrollY=document.documentElement.scrollTop||document.body.scrollTop;for(var e=t.length-1;0<=e;e--)if(scrollY<t[0])changeNavCurrent(1e3);else if(scrollY>=t[e]){changeNavCurrent(e);break}})}function changeNavCurrent(e){e!=sideCurrent&&(curNum2=e+1,$(".pageelem__nav-item a").removeClass("-current"),$(".pageelem__nav-item:nth-child("+curNum2+")>a").addClass("-current"))}function scrollVoice(){if(screen.width>=mediaQuery_mobile){currentKv=-1;var a=new Array;parseInt($(".voice__elem").css("padding-top"));$(".voice__elem").each(function(e){if($(this).find(".voice__header").length||$(this).find(".voice__qaImg").length){var t=$(this).offset().top,i=$(this).height(),n=t?t-.1*i:t;a[e]=Math.floor(n)}});var t=a.filter(function(e){return""!==e});if($("html").hasClass("scrolledPage")){for(var e=$(window).scrollTop(),i=t.length-1;0<=i;i--)if(e<t[0])changeVoiceKv(0);else if(e>=t[i]){changeVoiceKv(i);break}}else changeVoiceKv(0);window.addEventListener("scroll",function(){scrollY=document.documentElement.scrollTop||document.body.scrollTop;for(var e=t.length-1;0<=e;e--)if(scrollY<t[0])changeVoiceKv(0);else if(scrollY>=t[e]){changeVoiceKv(e);break}})}}function changeVoiceKv(e){e!=currentKv&&($(".voice__kv-item").eq(e).length||(e=$(".voice__kv-item").length-1),$(".voice__kv-item").removeClass("-current"),$(".voice__kv-item").eq(e).addClass("-current"),$(".voice__kv .swiper-pagination-bullet").removeClass("-active-bullet"),$(".voice__kv .swiper-pagination-bullet").eq(e).addClass("-active-bullet"))}function setElement(){$("ol").each(function(){-1<$(this).attr("style").indexOf("lower-alpha")&&$(this).addClass("-alpha")})}function setKvHeight(e){if($(".kv").length)if(window.innerWidth<=mediaQuery_mobile){var t=$(".header").height();$(".kv").height(parseInt(window.innerHeight-t)),$(".scrollIcn").height(parseInt(window.innerHeight-t))}else $(".kv").removeAttr("style"),$(".scrollIcn").removeAttr("style");$(".voice").length&&(window.innerWidth<=mediaQuery_mobile?$(".voice, .voice__kv").removeAttr("style"):($(".voice").css("min-height",parseInt(window.innerHeight)),$(".voice__kv").height(parseInt(window.innerHeight))))}function phoneNumber(){ua=navigator.userAgent,smp=0,(-1<ua.indexOf("iPhone")||-1<ua.indexOf("Android"))&&($("[data-tel]").each(function(){var e=$(this).attr("data-tel");$(this).wrap('<a href="tel:'+e+'" class="telnum"></a>')}),smp=1)}cursor(),$(".pageelem__nav-item a").click(function(){$(".pageelem__nav-item a").removeClass("-current"),$(this).toggleClass("-current")});var movefun=function(e){e.preventDefault()};function elastic(e){var t="-opened",i="easeOutQuint",n=e.parent(".elastic__item"),a=n.find(".elastic__detail");n.hasClass(t)?(n.removeClass(t),a.stop().animate({opacity:0,height:"toggle"},350,i)):(n.addClass(t),a.stop().animate({opacity:1,height:"toggle"},350,i))}function setInview(){$(".effect").on("inview",function(e,t){if(t){var i=e.currentTarget.className,n=.4;if(-1==i.indexOf("-animated")){if(-1!==i.indexOf("ourmsg")&&(n=.6),-1!==i.indexOf("indexRecruit__slider"))new Swiper(".indexRecruit__slider",{speed:800,effect:"fade",autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:".indexRecruit__slider-pager",clickable:!0}});i.indexOf("recValue__slider-outer"),_$=$(this),$letter=_$.find(".heading"),_.each($letter,function(e,t){TweenMax.delayedCall(t*n/2,function(){_.each($(e).find(".letter"),function(e){showletterEffect($(e))})})})}$(this).addClass("-animated")}})}function showletterEffect(e){if(e.isVisible=!!e.hasClass("letter-visible"),e.isVisible?(e.addClass("letter-animated"),e.find(".letter__clone").remove(),e.find(".letter__cover").remove()):(e.text=e.text(),e.$clone=$('<span class="letter__clone">'+e.text+"</span>"),e.$cover=$('<span class="letter__cover">'+e.text+"</span>"),e.wrapInner('<span class="letter__w" />').append(e.$clone,e.$cover)),!e.isVisible){var t=e.outerWidth(),i=e.outerHeight(),n="rect(0px 0px "+i+"px 0px)",a="rect(0px "+t+"px "+i+"px 0px)",o="rect(0px "+t+"px "+i+"px 0px)",s="rect(0px "+t+"px "+i+"px "+t+"px)";e.$clone.css({clip:n}),e.$cover.css({clip:o}),e.addClass("letter-visible"),TweenMax.to(e.$clone,.4*3,{delay:.1,clip:a,ease:Power4.easeOut}),TweenMax.to(e.$cover,.4*3,{delay:.1,clip:s,ease:Power4.easeOut,onComplete:function(){e.addClass("letter-animated"),e.$clone.remove(),e.$cover.remove()}})}}function wh(){return document.documentElement.clientHeight||window.innerHeight}function sy(){return document.documentElement.scrollTop||document.body.scrollTop}$(function(){$(".drawer").drawer(),$(".drawer-toggle").click(function(){var e=$(this);$(".drawer").drawer("refresh"),$("body").hasClass("drawer-open")?(e.removeClass("-closed"),window.addEventListener("touchmove",movefun,{passive:!1})):(e.addClass("-closed"),$("body").removeClass("modal-flash-start"),window.removeEventListener("touchmove",movefun,{passive:!1}))}),$("a[href^=#]").not(".link-modal").click(function(){var e=$(this.hash),t=$(e).offset().top,i=1200;return-1!==e.selector.indexOf("kv__")&&(i=500),$(".drawer").drawer("close"),window.removeEventListener("touchmove",movefun,{passive:!1}),$("html,body").animate({scrollTop:t},i,"easeOutExpo"),!1});var n=$("[data-menu]");($(".sitemenu__item.-hasChild").mouseover(function(e){var t=$(this).attr("data-target"),i=$('[data-menu="'+t+'"]');n.removeClass("-show-child"),i.addClass("-show-child"),$("html").addClass("-megamenu-open")}).mouseout(function(e){$("html").removeClass("-megamenu-open")}),$(".header__mega").mouseover(function(e){$("html").addClass("-megamenu-open")}).mouseout(function(e){$("html").removeClass("-megamenu-open")}),$(".elastic__item").length)&&$(".elastic__header").each(function(){$(this).click(function(){var e=$(this);e.parents(".elastic").hasClass("-only-sp")?screen.width<mediaQuery_mobile&&elastic(e):elastic(e)})});if($(".toggle").length){var e=$(".toggle__more"),s="-opened",r="easeOutQuint";e.each(function(e){var o=e+1;$(this).click(function(){var e=$(this),t=e.parents(".toggle"),i=t.find(".toggle__content");if(t.hasClass(s)){e.find("span").html(e.find("span").attr("data-open"));var n=$("#toggle-"+o);e.find("span").attr("data-back")&&(n="#"+e.find("span").attr("data-back"));var a=$(n).offset().top;$("html,body").animate({scrollTop:a},800,"easeOutExpo"),t.removeClass(s),i.stop().animate({opacity:0,height:"toggle"},800,r)}else e.find("span").html(e.find("span").attr("data-close")),t.addClass(s),i.stop().animate({opacity:1,height:"toggle"},800,r)})})}$(".linkPanel__item").each(function(){var e=$(this);e.hover(function(){e.parent(".linkPanel").toggleClass("-hover")})}),$(".recValue__slider").length&&$(".recValue__slider").infiniteslide({speed:20,clone:6,direction:"left",pauseonhover:!1})});
//!
//!
//! youtube.js
//!
//!
var player,mediaQuery_mobile=769,body=Array.prototype.slice.call(document.getElementsByTagName("body")),bodyCLassName=body[0].className;function getUa(){var e=!1;if(-1!==bodyCLassName.indexOf("page-home")){var o=navigator.userAgent;if(/Android/.test(o))if(/Android/.test(o)&&/Linux; U;/.test(o)&&!/Chrome/.test(o)||/Android/.test(o)&&/Chrome/.test(o)&&/Version/.test(o)||/Android/.test(o)&&/Chrome/.test(o)&&/SamsungBrowser/.test(o))e=!1;else 53<=o.match(/Chrome\/([\d]+)/).slice(1)&&(e=!0);else if(/iPad/.test(o)){10<=o.match(/iP(hone|od|ad); CPU OS ([\d]+)/).slice(2)&&(e=!0)}else if(/iP(hone|od)/.test(o)){10<=o.match(/iP(hone|od|ad) OS ([\d]+)/).slice(2)&&(e=!0)}else e=!(!/Windows/.test(o)&&!/Macintosh/.test(o))}return e}function loadPlayer(){if("undefined"==typeof YT||void 0===YT.Player){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o),window.onYouTubePlayerAPIReady=function(){onYouTubePlayer()}}else onYouTubePlayer()}function onYouTubePlayer(){player=new YT.Player("youtube",{videoId:"JJatLrn4AaQ",playerVars:{playsinline:1,autoplay:1,loop:1,playlist:"JJatLrn4AaQ",controls:0,enablejsapi:1,iv_load_policy:3,disablekb:1,showinfo:0,rel:0,origin:location.protocol+"//"+location.hostname+"/"},events:{onReady:onPlayerReady,onError:catchError}}),screen.width<mediaQuery_mobile&&(window.onfocus=function(){player.mute(),player.playVideo()},window.onblur=function(){player.stopVideo()})}$(document).ready(function(){getUa()&&loadPlayer()});var done=!1;function onPlayerStateChange(e){e.data!=YT.PlayerState.PLAYING||done?e.data==YT.PlayerState.ENDED&&location.reload():done=!0}function onPlayerReady(e){var o=e.target;o.mute(),o.playVideo()}function catchError(e){100==e.data&&console.log("De video bestaat niet meer")}function stopVideo(){player.stopVideo()}
//!
//!
//! map.js
//!
//!
var currentWindow=null;function getBrowserWidth(){return window.innerWidth?window.innerWidth:document.documentElement&&0!=document.documentElement.clientWidth?document.documentElement.clientWidth:document.body?document.body.clientWidth:0}function initialize(){var e=17;screen.width<767&&(e=15);var n="custom_style",o=new google.maps.StyledMapType([{stylers:[{saturation:-100}]}],{name:"custom"}),t=new google.maps.LatLng(35.664726,139.737786);mapOptions={zoom:e,center:t,mapTypeId:n,scrollwheel:!1,mapTypeControl:!1,navigationControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,n],style:google.maps.NavigationControlStyle.SMALL}},map=new google.maps.Map(document.getElementById("mapCanvas"),mapOptions),map.mapTypes.set(n,o);var a=[35.664726,139.737786,"株式会社ヤプリ","","s01","assets/img/map-pin-02.svg",42,56],p=[];for(p.push({pos:new google.maps.LatLng(a[0],a[1]),name:a[2],adres:a[3],dir:a[4],icn:a[5],icn_w:a[6],icn_h:a[7]}),i=0;i<p.length;i++){var r="<p><strong>"+p[i].name+"</strong><br><span>"+p[i].adres+'<br>&gt; <a href="https://goo.gl/maps/ngfnha1fgmNwws748" target="_blank">GoogleMapで見る</a></span></p>',s=p[i].icn_w,m=p[i].icn_h,l={url:p[i].icn,scaledSize:new google.maps.Size(s,m)};new google.maps.Marker({map:map,position:p[i].pos,content:r,icon:l,icon:""});createMarker(map,p[i].pos,r,l,p[i].z_index)}}function createMarker(e,n,o,t){var a={content:o},i=new google.maps.InfoWindow(a),p={position:n,map:e,icon:t},r=new google.maps.Marker(p);return google.maps.event.addListener(r,"click",function(){currentWindow&&currentWindow.close(),i.open(e,r),currentWindow=i}),r}$("#mapCanvas").length&&(google.maps.event.addDomListener(window,"load",initialize),google.maps.event.addDomListener(window,"resize",function(){map.panTo(mapOptions.center)}));